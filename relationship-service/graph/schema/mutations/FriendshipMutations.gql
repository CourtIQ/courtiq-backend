extend type Mutation {
  """
  Sends a friend request to another user.
  Conditions:
  - @satisfies(noExistingFriendship: true): Ensure that no existing friendship or pending request already exists between currentUser and receiverId.
  """
  sendFriendRequest(receiverId: ID!): Boolean
    @satisfies(conditions: {
      nonExistence: { noExistingFriendship: true }
    })

  acceptFriendRequest(friendshipId: ID!): Boolean
    @satisfies(conditions: {
      existence: { relationshipStatus: PENDING, relationshipType: FRIENDSHIP },
      roles: { requireReceiver: true }
    })

  rejectFriendRequest(friendshipId: ID!): Boolean
    @satisfies(conditions: {
      existence: { relationshipStatus: PENDING, relationshipType: FRIENDSHIP },
      roles: { requireReceiver: true }
    })

  cancelFriendRequest(friendshipId: ID!): Boolean
    @satisfies(conditions: {
      existence: { relationshipStatus: PENDING, relationshipType: FRIENDSHIP },
      roles: { requireSender: true }
    })

  endFriendship(friendshipId: ID!): Boolean
    @satisfies(conditions: {
      existence: { relationshipStatus: ACTIVE, relationshipType: FRIENDSHIP },
      roles: { requireParticipants: true }
    })
}